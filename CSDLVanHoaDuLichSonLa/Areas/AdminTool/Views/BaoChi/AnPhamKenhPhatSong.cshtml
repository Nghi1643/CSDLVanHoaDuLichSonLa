@model CSDLVanHoaDuLichSonLa.Models.ViewPermissionViewModel
@{
    ViewBag.Title = "Quản lý ấn phẩm kênh phát sóng";
}

<div class="box_content">
    <div class="TieuDe">
        <h2>Quản lý ấn phẩm/kênh phát sóng</h2>
    </div>
    <div class="content-body">
        <div class="group-filter">
            <div class="row">
                <div class="col-md-3 form-group">
                    <label>Tìm kiếm</label>
                    <input type="text" class="form-control search-icon" id="tu-khoa-search" placeholder="Tìm kiếm..." maxlength="1000" />
                </div>
                <div class="col-md-3 form-group">
                    <label>Lĩnh vực chuyên sâu</label>
                    <select class="form-control" id="linh-vuc-chuyen-sau-search" placeholder=""></select>
                </div>
                <div class="col-md-3 form-group">
                    <label>Trạng thái</label>
                    <select class="form-control" id="trang-thai-search" placeholder="Trạng thái">
                        <option value="-1">Tất cả</option>
                        <option value="0">Không sử dụng</option>
                        <option value="1">Sử dụng</option>
                    </select>
                </div>
                <div class="col-md-3 form-group">
                    <label>Ngôn ngữ</label>
                    <select class="form-control" id="ngon-ngu-search" placeholder=""></select>
                </div>
                <div class="col-md-12 form-group">
                    <div class="group-button flex-end">
                        <button type="button" class="btn btn-primary" id="tim-kiem">Lọc</button>
                        <button type="button" class="btn btn-outline-primary" id="tat-ca">Tất cả</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="New_Table table-responsive">
            <div class="group-corner-button">
                @if (Model.PermitedCreate == 1)
                {
                    <button type="submit" class="btn btn-success" data-toggle="modal" data-target="#modalAdd">Thêm mới</button>
                }
            </div>
            <table class="table row-border" id="dataGrid" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>STT</th>
                        <th>Tên ấn phẩm</th>
                        <th>Cơ quan báo chí</th>
                        <th>Tần suất</th>
                        <th>Lĩnh vực chuyên sâu</th>
                        <th>Lượt tiếp cận ước tính</th>
                        <th>Trạng Thái</th>
                        <th>Chức năng</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>

    <div class="modal side-modal fade" id="modalAdd" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="modalAddTitle">Thêm mới ấn phẩm/kênh phát sóng</h4>
                    <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
                </div>
                <form role="form" id="formAdd">
                    <div class="modal-body">
                        <input type="hidden" id="idAnPhamAdd" />

                        <div class="form-group">
                            <label for="linhVucChuyenSauAdd" class="form-label">Lĩnh vực chuyên sâu<span class="text-red"> *</span></label>
                            <select class="form-control" id="linhVucChuyenSauAdd">
                                <option></option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="tanSuatAdd" class="form-label">Tần xuất<span class="text-red"> *</span></label>
                            <select class="form-control" id="tanSuatAdd">
                                <option></option>
                            </select>

                        </div>
                      
                        <div class="form-group d-none">
                            <label for="thuTuAdd" class="form-label">Thứ tự</label>
                            <input type="number" class="form-control field-input" id="thuTuAdd" placeholder="" autocomplete="off" />
                        </div>

                        <div class="form-group">
                            <label class="form-label">Trạng thái</label>
                            <div class="div_radiobox">
                                <div class="groupradiobox">
                                    <input type="radio" id="trangThaiSuDungAdd" name="trangThaiAdd" value="1" checked />
                                    <label for="trangThaiSuDungAdd">Đã phát hành</label>
                                </div>
                                <div class="groupradiobox">
                                    <input type="radio" id="trangThaiKhongSuDungAdd" name="trangThaiAdd" value="0" />
                                    <label for="trangThaiKhongSuDungAdd">Chưa phát hành</label>
                                </div>
                            </div>
                        </div>

                        <div class="DaNgu">
                            <div class="form-group">
                                <label for="ngonNguAdd" class="form-label">Ngôn ngữ<span class="text-red"> *</span></label>
                                <select id="ngonNguAdd" class="form-control" placeholder="Chọn ngôn ngữ"></select>
                            </div>

                            <div class="form-group">
                                <label for="tenAnPhamAdd" class="form-label">Tên ấn phẩm<span class="text-red"> *</span></label>
                                <input type="text" class="form-control field-input" id="tenAnPhamAdd" placeholder="" autocomplete="off">
                            </div>
                                
                            <div class="form-group">
                                <label for="doiTuongDocGiaAdd" class="form-label">Đối tượng độc giả</label>
                                <input type="text" class="form-control field-input" id="doiTuongDocGiaAdd" placeholder="" autocomplete="off">
                            </div>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-primary" data-dismiss="modal">Huỷ bỏ</button>
                        <button type="submit" class="btn btn-primary">Lưu</button>
                    </div>
                </form>
            </div><!-- modal-content -->
        </div><!-- modal-dialog -->
    </div><!-- modal -->
    <!-- Modal delete-->
    @await Html.PartialAsync("~/Areas/AdminTool/Views/Shared/_PartialView/ModalDelete.cshtml")

    <div class="modal side-modal fade" id="modalDetail" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="modalDetailTitle">Chi tiết ấn phẩm/kênh phát sóng</h4>
                    <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">
                    <!-- Thông tin cơ bản -->
                    <div class="row">
                        <!-- Cột trái -->
                        <div class="col-lg-6 col-md-6">
                            <div class="form-group form-info">
                                <label>Lĩnh vực chuyên sâu: </label>
                                <span id="linhVucChuyenSauDetail"></span>
                            </div>
                            <div class="form-group form-info">
                                <label>Đối tượng độc giả: </label>
                                <span id="doiTuongDocGiaDetail"></span>
                            </div>
                            <div class="form-group form-info">
                                <label class="form-label">Trạng thái: </label>
                                <div id="trangThaiDetail"></div>
                            </div>
                        </div>
                        
                        <!-- Cột phải -->
                        <div class="col-lg-6 col-md-6">
                            <div class="form-group form-info">
                                <label>Tần xuất: </label>
                                <span id="tanSuatDetail"></span>
                            </div>
                            <div class="form-group form-info">
                                <label class="form-label">Thứ tự: </label>
                                <span id="thuTuDetail">-</span>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12">
                            <!-- Thông tin người tạo/cập nhật -->
                            <div class="sub-text">
                                <ul class="list-updater">
                                    <li>Người tạo: <span id="nguoiTaoDetail">-</span></li>
                                    <li>Ngày tạo: <span id="ngayTaoDetail">-</span></li>
                                    <li>Người cập nhật: <span id="nguoiCapNhatDetail">-</span></li>
                                    <li>Ngày cập nhật:<span id="ngayCapNhatDetail">-</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-primary" data-dismiss="modal">Đóng</button>
                </div>
            </div><!-- modal-content -->
        </div><!-- modal-dialog -->
    </div><!-- modal -->

</div>

@section Scripts {
        <script>
            const permitedEdit = @Model.PermitedEdit
            const permitedDelete = @Model.PermitedDelete
            const coQuanBaoChiID = '@ViewBag.ToChucID'
        </script>
        <script src="~/PageScripts/admin/BaoChi/CoQuanBaoChi/AnPhamKenhPhatSong.js" asp-append-version="true"></script>
}