@model CSDLVanHoaDuLichSonLa.Models.ViewPermissionViewModel
@{
    ViewBag.Title = "Quản lý lễ hội";
}

<div class="box_content">
    <div class="TieuDe">
        <h2>Quản lý lễ hội</h2>
    </div>
    <div class="content-body">
        <div class="group-filter" style="margin-bottom:10px;">
            <div class="row">
                <div class="col-lg-3 col-md-6">
                    <div class="form-group">
                        <label>Tìm kiếm</label>
                        <input type="text" class="form-control search-icon" id="tu-khoa-search" placeholder="Nhập từ khóa..." maxlength="1000" />
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="form-group">
                        <label>Thể loại</label>
                        <select class="form-control" id="the-loai-search" data-placeholder="Chọn thể loại">
                            <option value="-1">Tất cả</option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="form-group">
                        <label>Cấp độ</label>
                        <select class="form-control" id="cap-do-search" data-placeholder="Chọn cấp độ">
                            <option value="-1">Tất cả</option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="form-group">
                        <label>Tần suất</label>
                        <select class="form-control" id="tan-suat-search" data-placeholder="Chọn tần suất">
                            <option value="-1">Tất cả</option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="form-group">
                        <label>Ngày bắt đầu</label>
                        <input type="text" class="form-control datepicker" placeholder="dd/mm/yyyy" id="ngay-bat-dau-search" />
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="form-group">
                        <label>Ngày kết thúc</label>
                        <input type="text" class="form-control datepicker" placeholder="dd/mm/yyyy" id="ngay-ket-thuc-search" />
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="form-group">
                        <label>Trạng thái</label>
                        <select class="form-control" id="trang-thai-search" data-placeholder="Chọn trạng thái">
                            <option value="-1">Tất cả</option>
                            <option value="1">Duyệt</option>
                            <option value="2">Chưa duyệt</option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="form-group">
                        <label>&nbsp;</label>
                        <div class="group-button flex-end">
                            <button type="button" class="btn btn-primary" id="tim-kiem">Lọc</button>
                            <button type="button" class="btn btn-outline-primary" id="tat-ca">Tất cả</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="New_Table table-responsive">
            <div class="group-corner-button">
                @if (Model.PermitedCreate == 1)
                {
                    <a href="@Url.Action("Add", "LeHoi")" class="btn btn-success">Thêm mới</a>
                }
            </div>
            <table class="table row-border" id="dataGrid" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>STT</th>
                        <th>Tên lễ hội</th>
                        <th>Thể loại</th>
                        <th>Cấp độ</th>
                        <th>Tần suất</th>
                        <th>Thời gian diễn ra</th>
                        <th>Trạng thái</th>
                        @if (Model.PermitedEdit > 0 || Model.PermitedDelete > 0)
                        {
                            <th>Chức năng</th>
                        }
                    </tr>
                </thead>
            </table>
        </div>
    </div>

    <!-- Modal delete-->
    @await Html.PartialAsync("~/Areas/AdminTool/Views/Shared/_PartialView/ModalDelete.cshtml")
</div>

@section Scripts {
    <script>
        const permitedEdit = @Model.PermitedEdit;
        const permitedDelete = @Model.PermitedDelete;
    </script>
    <script src="~/PageScripts/admin/LeHoi/LeHoi.js" asp-append-version="true"></script>
}
